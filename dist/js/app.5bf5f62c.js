(function(e){function n(n){for(var t,r,o=n[0],i=n[1],l=n[2],_=0,d=[];_<o.length;_++)r=o[_],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);p&&p(n);while(d.length)d.shift()();return s.push.apply(s,l||[]),c()}function c(){for(var e,n=0;n<s.length;n++){for(var c=s[n],t=!0,o=1;o<c.length;o++){var i=c[o];0!==a[i]&&(t=!1)}t&&(s.splice(n--,1),e=r(r.s=c[0]))}return e}var t={},a={app:0},s=[];function r(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,r),c.l=!0,c.exports}r.m=e,r.c=t,r.d=function(e,n,c){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:c})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)r.d(c,t,function(n){return e[n]}.bind(null,t));return c},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=n,o=o.slice();for(var l=0;l<o.length;l++)n(o[l]);var p=i;s.push([0,"chunk-vendors"]),c()})({0:function(e,n,c){e.exports=c("56d7")},"03c5":function(e,n,c){e.exports=c.p+"img/Hearts_Jack_black.e856ad1c.png"},"0472":function(e,n,c){e.exports=c.p+"img/Pikes_4_black.697ded1c.png"},"0ad5":function(e,n,c){e.exports=c.p+"img/Clovers_3_black.e95ff3b8.png"},"18a8":function(e,n,c){e.exports=c.p+"img/Pikes_6_black.c6b28a75.png"},"1d0f":function(e,n,c){e.exports=c.p+"img/Pikes_3_black.aca61339.png"},"1d2f":function(e,n,c){e.exports=c.p+"img/Tiles_3_black.81246346.png"},"1f68":function(e,n,c){e.exports=c.p+"img/Clovers_5_black.f02ede73.png"},"21da":function(e,n,c){e.exports=c.p+"img/Tiles_4_black.71561650.png"},2274:function(e,n,c){e.exports=c.p+"img/Pikes_7_black.122e8029.png"},2294:function(e,n,c){e.exports=c.p+"img/Clovers_7_black.6fea7ac4.png"},"273b":function(e,n,c){e.exports=c.p+"img/Tiles_6_black.17e5d3d2.png"},2881:function(e,n,c){e.exports=c.p+"img/Hearts_3_black.c34f0076.png"},3592:function(e,n,c){var t={"./Back_black.png":"b997","./Clovers_10_black.png":"6fcb","./Clovers_2_black.png":"8f43","./Clovers_3_black.png":"0ad5","./Clovers_4_black.png":"c7ed","./Clovers_5_black.png":"1f68","./Clovers_6_black.png":"7d15","./Clovers_7_black.png":"2294","./Clovers_8_black.png":"5a08","./Clovers_9_black.png":"cd1d","./Clovers_A_black.png":"883c","./Clovers_Jack_black.png":"4a50","./Clovers_King_black.png":"8c28","./Clovers_Queen_black.png":"c9e8","./Hearts_10_black.png":"a47e","./Hearts_2_black.png":"8dbd","./Hearts_3_black.png":"2881","./Hearts_4_black.png":"649f","./Hearts_5_black.png":"7df4","./Hearts_6_black.png":"d546","./Hearts_7_black.png":"e96f","./Hearts_8_black.png":"c344","./Hearts_9_black.png":"476e","./Hearts_A_black.png":"997f","./Hearts_Jack_black.png":"03c5","./Hearts_King_black.png":"3b4f","./Hearts_Queen_black.png":"9064","./Pikes_10_black.png":"6a85","./Pikes_2_black.png":"87ee","./Pikes_3_black.png":"1d0f","./Pikes_4_black.png":"0472","./Pikes_5_black.png":"b1ad","./Pikes_6_black.png":"18a8","./Pikes_7_black.png":"2274","./Pikes_8_black.png":"6852","./Pikes_9_black.png":"4be1","./Pikes_A_black.png":"4cb3","./Pikes_Jack_black.png":"5bbe","./Pikes_King_black.png":"579e","./Pikes_Queen_black.png":"b613","./Tiles_10_black.png":"9c26","./Tiles_2_black.png":"cdf2","./Tiles_3_black.png":"1d2f","./Tiles_4_black.png":"21da","./Tiles_5_black.png":"c321","./Tiles_6_black.png":"273b","./Tiles_7_black.png":"4626","./Tiles_8_black.png":"4cd5","./Tiles_9_black.png":"a0ac","./Tiles_A_black.png":"a258","./Tiles_Jack_black.png":"869a","./Tiles_King_black.png":"3707","./Tiles_Queen_black.png":"6456"};function a(e){var n=s(e);return c(n)}function s(e){if(!c.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}a.keys=function(){return Object.keys(t)},a.resolve=s,e.exports=a,a.id="3592"},3651:function(e,n,c){},3707:function(e,n,c){e.exports=c.p+"img/Tiles_King_black.6a9d998b.png"},"3b4f":function(e,n,c){e.exports=c.p+"img/Hearts_King_black.faa02718.png"},"3eab":function(e,n,c){},4626:function(e,n,c){e.exports=c.p+"img/Tiles_7_black.3cf2a802.png"},"476e":function(e,n,c){e.exports=c.p+"img/Hearts_9_black.227fad79.png"},"4a50":function(e,n,c){e.exports=c.p+"img/Clovers_Jack_black.527bf929.png"},"4be1":function(e,n,c){e.exports=c.p+"img/Pikes_9_black.8da935ac.png"},"4cb3":function(e,n,c){e.exports=c.p+"img/Pikes_A_black.78c01470.png"},"4cd5":function(e,n,c){e.exports=c.p+"img/Tiles_8_black.8c54fbea.png"},"4f87":function(e,n,c){},"50f8":function(e,n,c){"use strict";c("3651")},"56d7":function(e,n,c){"use strict";c.r(n);c("e260"),c("e6cf"),c("cca6"),c("a79d");var t=c("7a23"),a=c("5502"),s=Object(a["a"])({state:{cards:[{name:"Clovers_2",scores:[2]},{name:"Clovers_3",scores:[3]},{name:"Clovers_4",scores:[4]},{name:"Clovers_5",scores:[5]},{name:"Clovers_6",scores:[6]},{name:"Clovers_7",scores:[7]},{name:"Clovers_8",scores:[8]},{name:"Clovers_9",scores:[9]},{name:"Clovers_10",scores:[10]},{name:"Clovers_10",scores:[10]},{name:"Clovers_Jack",scores:[10]},{name:"Clovers_King",scores:[10]},{name:"Clovers_Queen",scores:[10]},{name:"Clovers_A",scores:[1,11]},{name:"Hearts_2",scores:[2]},{name:"Hearts_3",scores:[3]},{name:"Hearts_4",scores:[4]},{name:"Hearts_5",scores:[5]},{name:"Hearts_6",scores:[6]},{name:"Hearts_7",scores:[7]},{name:"Hearts_8",scores:[8]},{name:"Hearts_9",scores:[9]},{name:"Hearts_10",scores:[10]},{name:"Hearts_10",scores:[10]},{name:"Hearts_Jack",scores:[10]},{name:"Hearts_King",scores:[10]},{name:"Hearts_Queen",scores:[10]},{name:"Hearts_A",scores:[1,11]},{name:"Pikes_2",scores:[2]},{name:"Pikes_3",scores:[3]},{name:"Pikes_4",scores:[4]},{name:"Pikes_5",scores:[5]},{name:"Pikes_6",scores:[6]},{name:"Pikes_7",scores:[7]},{name:"Pikes_8",scores:[8]},{name:"Pikes_9",scores:[9]},{name:"Pikes_10",scores:[10]},{name:"Pikes_10",scores:[10]},{name:"Pikes_Jack",scores:[10]},{name:"Pikes_King",scores:[10]},{name:"Pikes_Queen",scores:[10]},{name:"Pikes_A",scores:[1,11]},{name:"Tiles_2",scores:[2]},{name:"Tiles_3",scores:[3]},{name:"Tiles_4",scores:[4]},{name:"Tiles_5",scores:[5]},{name:"Tiles_6",scores:[6]},{name:"Tiles_7",scores:[7]},{name:"Tiles_8",scores:[8]},{name:"Tiles_9",scores:[9]},{name:"Tiles_10",scores:[10]},{name:"Tiles_10",scores:[10]},{name:"Tiles_Jack",scores:[10]},{name:"Tiles_King",scores:[10]},{name:"Tiles_Queen",scores:[10]},{name:"Tiles_A",scores:[1,11]}]},getters:{getCards:function(e){return e.cards}}}),r=s,o=Object(t["p"])("data-v-e37a6a66");Object(t["i"])("data-v-e37a6a66");var i={class:"app"},l={class:"game"},p={class:"sidebar"},_={class:"actions"},d={class:"actions__item"},u={class:"actions__item"};Object(t["h"])();var b=o((function(e,n,c,a,s,r){var o=Object(t["m"])("Player"),b=Object(t["m"])("Cards");return Object(t["g"])(),Object(t["c"])("div",i,[Object(t["e"])("div",l,[Object(t["e"])(o,{class:"player",title:"Dealer hand",cards:s.enemy},null,8,["cards"]),Object(t["e"])(o,{class:"player",title:"Player hand",cards:s.player,onSetScore:r.setScore},null,8,["cards","onSetScore"])]),Object(t["e"])("div",p,[Object(t["e"])(b,{cards:s.cards},null,8,["cards"]),Object(t["e"])("div",_,[Object(t["e"])("div",d,[Object(t["e"])("button",{class:"btn",onClick:n[1]||(n[1]=function(){return r.hit&&r.hit.apply(r,arguments)})},"Hit")]),Object(t["e"])("div",u,[Object(t["e"])("button",{class:"btn",onClick:n[2]||(n[2]=function(){return r.stand&&r.stand.apply(r,arguments)})},"Stand")])])])])})),f=c("5530"),g=(c("159b"),c("b0c0"),c("4e82"),c("7db0"),function(e,n){return Math.round(e-.5+Math.random()*(n-e+1))}),m=function(e,n){var c=e.find((function(e){return e.name===n})).scores;return c[g(0,c.length-1)]},k=Object(t["p"])("data-v-7ff7d190");Object(t["i"])("data-v-7ff7d190");var v={class:"cards"};Object(t["h"])();var O=k((function(e,n,c,a,s,r){var o=Object(t["m"])("Card");return Object(t["g"])(),Object(t["c"])("div",v,[(Object(t["g"])(!0),Object(t["c"])(t["a"],null,Object(t["k"])(c.cards,(function(e,n){return Object(t["g"])(),Object(t["c"])(o,{key:n,style:{marginTop:"".concat(n,"px"),marginLeft:"".concat(n,"px")},card:e,class:"cards__item  js-card-".concat(e.id)},null,8,["style","card","class"])})),128))])})),j=c("b997"),h=c.n(j),C=Object(t["p"])("data-v-3dd86e67");Object(t["i"])("data-v-3dd86e67");var x={key:0,class:"scores"},y=Object(t["e"])("img",{src:h.a,class:"img"},null,-1);Object(t["h"])();var P=C((function(e,n,a,s,r,o){var i=Object(t["m"])("Flipper");return Object(t["g"])(),Object(t["c"])(i,{opened:a.card.opened,ref:"card",style:o.getStyles},{front:C((function(){return[o.canShowScores?(Object(t["g"])(),Object(t["c"])("div",x,[(Object(t["g"])(!0),Object(t["c"])(t["a"],null,Object(t["k"])(a.card.scores,(function(n,c){return Object(t["g"])(),Object(t["c"])("button",{key:c,class:["scores__item",{"scores__item--active":n==a.card.score}],onClick:function(c){return e.$emit("setScore",n)}},Object(t["n"])(n),11,["onClick"])})),128))])):Object(t["d"])("",!0),Object(t["e"])("img",{src:c("3592")("./".concat(a.card.name,"_black.png")),class:"img"},null,8,["src"])]})),back:C((function(){return[y]})),_:1},8,["opened","style"])})),T=Object(t["p"])("data-v-856a35b0");Object(t["i"])("data-v-856a35b0");var H={class:"content"},S={class:"front"},A={class:"back"};Object(t["h"])();var J=T((function(e,n,c,a,s,r){return Object(t["g"])(),Object(t["c"])("div",{class:["card",{opened:!c.opened}]},[Object(t["e"])("div",H,[Object(t["e"])("div",S,[Object(t["l"])(e.$slots,"front",{},void 0,!0)]),Object(t["e"])("div",A,[Object(t["l"])(e.$slots,"back",{},void 0,!0)])])],2)})),w={name:"Flipper",props:{opened:{type:Boolean,default:!1}}};c("50f8");w.render=J,w.__scopeId="data-v-856a35b0";var K=w,Q={name:"Card",components:{Flipper:K},props:{card:{type:Object,default:function(){return{}}}},data:function(){return{position:null}},computed:{canShowScores:function(){return this.card.scores.length>1&&this.card.opened},getStyles:function(){return this.position?{top:"".concat(this.position.top,"px"),left:"".concat(this.position.left,"px")}:null}},mounted:function(){var e=this;if(this.card.position){var n=this.$refs.card.$el.getBoundingClientRect();this.position={top:this.card.position.y-n.y,left:this.card.position.x-n.x},requestAnimationFrame((function(){e.position.top=0,e.position.left=0}))}}};c("8381");Q.render=P,Q.__scopeId="data-v-3dd86e67";var M=Q,$={name:"Cards",components:{Card:M},props:{cards:{type:Array,default:function(){return[]}}}};c("e910");$.render=O,$.__scopeId="data-v-7ff7d190";var B=$,F=Object(t["p"])("data-v-95ad6578");Object(t["i"])("data-v-95ad6578");var I={class:"player"},N={class:"player__cards"},D={class:"player__info"};Object(t["h"])();var E=F((function(e,n,c,a,s,r){var o=Object(t["m"])("Card");return Object(t["g"])(),Object(t["c"])("div",I,[Object(t["e"])("div",N,[(Object(t["g"])(!0),Object(t["c"])(t["a"],null,Object(t["k"])(c.cards,(function(n,c){return Object(t["g"])(),Object(t["c"])(o,{key:c,card:n,onSetScore:function(c){return e.$emit("setScore",{card:n,score:c})},class:"player__cards-item"},null,8,["card","onSetScore"])})),128))]),Object(t["e"])("div",D,Object(t["n"])(c.title)+": "+Object(t["n"])(r.getCardsSum),1)])})),q={name:"Player",components:{Card:M},props:{title:{type:String,default:""},cards:{type:Array,default:function(){return[]}}},computed:{getCardsSum:function(){return this.cards.reduce((function(e,n){return e+n.score}),0)}}};c("90aa");q.render=E,q.__scopeId="data-v-95ad6578";var G=q,L={name:"App",components:{Cards:B,Player:G},data:function(){return{maxScore:21,cards:[],enemy:[],player:[]}},computed:Object(f["a"])({},Object(a["b"])(["getCards"])),mounted:function(){this.startGame()},methods:{startGame:function(){this.generateCards(),this.clearCards()},clearCards:function(){this.enemy=[],this.player=[]},hit:function(){this.giveCardTo("player")},stand:function(){for(var e=this,n=g(2,4),c=function(c){setTimeout((function(){e.giveCardTo("enemy"),c+1==n&&setTimeout((function(){e.enemyChoosed()}),1500)}),100*c)},t=0;t<n;t++)c(t)},enemyChoosed:function(){var e=this.enemy.reduce((function(e,n){return e+n.score}),0),n=this.player.reduce((function(e,n){return e+n.score}),0),c="";e!=n&&(c=e>this.maxScore&&n>this.maxScore?e>n?"player":"enemy":e>this.maxScore||n>this.maxScore?e>this.maxScore?"player":"enemy":e>n?"enemy":"player"),c?"player"==c?alert("Вы выграли!"):alert("Вы проиграли!"):alert("Ничья!"),this.clearCards(),this.checkCards()},checkCards:function(){this.cards.length||this.generateCards()},giveCardTo:function(e){if(this.cards.length){var n=this.cards[this.cards.length-1];n.position=this.getCardPosition(n),this[e].push(n),--this.cards.length,setTimeout((function(){n.opened=!0}),500)}},getCardPosition:function(e){return document.querySelector(".js-card-".concat(e.id)).getBoundingClientRect()},generateCards:function(){var e=this,n=JSON.parse(JSON.stringify(this.getCards));n.forEach((function(n,c){n.score=m(e.getCards,n.name),n.id=c,n.opened=!1})),this.cards=n.sort((function(){return Math.random()-.5}))},setScore:function(e){var n=e.card,c=e.score;n.score=c}}};c("f268");L.render=b,L.__scopeId="data-v-e37a6a66";var R=L;c("4f87");Object(t["b"])(R).use(r).mount("#app")},"579e":function(e,n,c){e.exports=c.p+"img/Pikes_King_black.87934dea.png"},"5a08":function(e,n,c){e.exports=c.p+"img/Clovers_8_black.33c17161.png"},"5bbe":function(e,n,c){e.exports=c.p+"img/Pikes_Jack_black.37b9e305.png"},6456:function(e,n,c){e.exports=c.p+"img/Tiles_Queen_black.8b541231.png"},"649f":function(e,n,c){e.exports=c.p+"img/Hearts_4_black.2a27e029.png"},6852:function(e,n,c){e.exports=c.p+"img/Pikes_8_black.c0d7f93e.png"},"6a85":function(e,n,c){e.exports=c.p+"img/Pikes_10_black.f5183d45.png"},"6fcb":function(e,n,c){e.exports=c.p+"img/Clovers_10_black.6367aaa3.png"},"7d15":function(e,n,c){e.exports=c.p+"img/Clovers_6_black.eaa77304.png"},"7df4":function(e,n,c){e.exports=c.p+"img/Hearts_5_black.ec8a26eb.png"},8381:function(e,n,c){"use strict";c("ad98")},"869a":function(e,n,c){e.exports=c.p+"img/Tiles_Jack_black.f92ed37c.png"},"87ee":function(e,n,c){e.exports=c.p+"img/Pikes_2_black.ccd82688.png"},"883c":function(e,n,c){e.exports=c.p+"img/Clovers_A_black.e342eb24.png"},"8c28":function(e,n,c){e.exports=c.p+"img/Clovers_King_black.85691f0d.png"},"8dbd":function(e,n,c){e.exports=c.p+"img/Hearts_2_black.555be9a6.png"},"8f43":function(e,n,c){e.exports=c.p+"img/Clovers_2_black.cc323a0c.png"},9064:function(e,n,c){e.exports=c.p+"img/Hearts_Queen_black.a023763b.png"},"90aa":function(e,n,c){"use strict";c("9d18")},"997f":function(e,n,c){e.exports=c.p+"img/Hearts_A_black.0a270641.png"},"9c26":function(e,n,c){e.exports=c.p+"img/Tiles_10_black.65df4a6e.png"},"9d18":function(e,n,c){},a0ac:function(e,n,c){e.exports=c.p+"img/Tiles_9_black.aa7dafe1.png"},a258:function(e,n,c){e.exports=c.p+"img/Tiles_A_black.ccd3c967.png"},a47e:function(e,n,c){e.exports=c.p+"img/Hearts_10_black.609748ac.png"},ad98:function(e,n,c){},b1ad:function(e,n,c){e.exports=c.p+"img/Pikes_5_black.90505d07.png"},b613:function(e,n,c){e.exports=c.p+"img/Pikes_Queen_black.6a606f63.png"},b997:function(e,n,c){e.exports=c.p+"img/Back_black.857bde2f.png"},c321:function(e,n,c){e.exports=c.p+"img/Tiles_5_black.a0e11174.png"},c344:function(e,n,c){e.exports=c.p+"img/Hearts_8_black.ec7f5c25.png"},c7ed:function(e,n,c){e.exports=c.p+"img/Clovers_4_black.a47f0b51.png"},c9e8:function(e,n,c){e.exports=c.p+"img/Clovers_Queen_black.18753504.png"},cd1d:function(e,n,c){e.exports=c.p+"img/Clovers_9_black.52cd8965.png"},cdf2:function(e,n,c){e.exports=c.p+"img/Tiles_2_black.391c77a2.png"},d2ea:function(e,n,c){},d546:function(e,n,c){e.exports=c.p+"img/Hearts_6_black.87747413.png"},e910:function(e,n,c){"use strict";c("d2ea")},e96f:function(e,n,c){e.exports=c.p+"img/Hearts_7_black.35c469f6.png"},f268:function(e,n,c){"use strict";c("3eab")}});
//# sourceMappingURL=app.5bf5f62c.js.map